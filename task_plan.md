# UI再設計タスク - ミニマルデザイン化

## Goal
ポップアップとオプションページのUIを、機能を維持しつつミニマルで優しい配色に再設計する

## Current Phase
Phase 5: キャッシュ/再翻訳の抑制設計

## Requirements

### ポップアップ
- 機能を減らさずにコンパクト化
- ミニマルデザイン
- 優しい配色

### オプションページ
- サイト管理の保存ボタン位置改善
- 「危険ゾーン」→ 優しい言葉に変更
- ミニマルデザイン
- 優しい配色

## Phases

### Phase 1: 設計方針の確定 `complete`
- [x] 配色パレットの決定 → グリーン系
- [x] ポップアップのレイアウト整理案 → 統計コンパクト、余白詰め
- [x] オプションページの改善箇所特定 → 保存ボタン、危険ゾーン文言

### Phase 2: ポップアップUI再設計 `complete`
- [x] CSSカラー変数の更新 → グリーン系
- [x] レイアウトのコンパクト化 → 320px幅、統計インライン化
- [x] 不要な装飾の削除 → SVGアイコン削除、余白削減

### Phase 3: オプションページUI修正 `complete`
- [x] サイト管理の保存ボタン位置修正 → 入力欄の下に目立つボタンとして配置
- [x] 「危険ゾーン」の文言・スタイル変更 → 「リセット」に変更、優しい色に
- [x] 配色の統一 → グリーン系

### Phase 4: 動作確認 `pending`
- [ ] ポップアップの全機能確認
- [ ] オプションページの全機能確認
- [ ] ユーザー承認

### Phase 5: キャッシュ/再翻訳の抑制設計 `in_progress`
- [ ] 既訳の再利用方針を整理（ページ遷移・再起動時の挙動）
- [ ] 永続キャッシュのキー設計案を作成
- [ ] ユーザー向けの設定案（期間/サイズ/手動リセット）を整理
 - [ ] TTL 3日・上限100件・キャッシュ単体リセットを実装
 - [ ] モデル/用語集変更時はキャッシュを保持する設計に反映

### Phase 6: 非Xサイト追加フローの改善 `in_progress`
- [ ] ポップアップ内の手順を明記
- [ ] 追加/許可の状態が分かる文言にする

### Phase 7: Pick操作の改善 `in_progress`
- [ ] 2クリックで確定するフローに修正
- [ ] 複数セレクタを追加できるようにする

### Phase 8: 非Xサイト翻訳の動作確認 `in_progress`
- [ ] 許可済み後に翻訳が走らない原因を特定
- [ ] 翻訳エリア指定の初期値/自動設定を確認
- [ ] 許可反映とコンテンツスクリプトの注入を確認

### Phase 9: ポップアップ集計の復旧 `in_progress`
- [ ] 金額/文字数が更新されない原因を特定
- [ ] 表示更新の導線を修正

### Phase 10: ポップアップUIバグ修正 `in_progress`
- [ ] 翻訳後の文字色が選べない問題を修正
- [ ] サイト有効の保存が反映されない問題を修正

## Files to Modify
- extension/popup.html
- extension/options.html

## Notes
- 既存機能は一切削除しない
- 視覚的な整理のみ
