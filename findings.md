# Findings - UI再設計

## 現状分析

### ポップアップ (popup.html) - 340px幅
現在の構成:
1. ヘッダー（ホストバッジのみ）
2. メインカード（トグル + アクションボタン2つ）
3. 統計カード（金額・文字数）
4. 設定グループ（翻訳方向・モデル・APIキー）
5. サイト設定drawer（セレクタ設定）
6. 詳細設定リンク

**改善点:**
- カード間のマージンが多い
- 統計表示が大きすぎる
- 設定グループの余白が多い
- drawerの中身が詰め込み気味

### オプションページ (options.html)
現在の構成:
- サイドバーナビ + メインコンテンツ
- Step 1: 基本設定
- Step 2: サイト管理 ← 保存ボタン位置の問題
- Step 3: 表示・翻訳後
- Step 4: 詳細・その他 ← 「危険ゾーン」

**問題箇所:**
1. サイト管理: 保存ボタンがsite-actionsにあり、右端に配置
2. 危険ゾーン: 赤背景 + 強い言葉で威圧的

## 決定した設計方針

### 配色: グリーン系（優しい緑）
```css
--primary: #10b981 (エメラルド)
--primary-hover: #059669
--accent: #34d399 (明るい緑)
--bg: #f9fafb
--surface: #ffffff
--text: #374151
--text-muted: #6b7280
--border: #e5e7eb
```

### ポップアップ改善
1. 統計表示をコンパクトに（1行にまとめる等）
2. サイト設定drawerの整理
3. 全体の余白を詰める
4. APIキー欄は維持

### オプションページ改善
1. サイト管理の保存ボタン位置を改善
2. 「危険ゾーン」→「リセット」等の優しい言葉に
3. 配色をグリーン系に統一

## 新規要望

### 翻訳の再実行コスト
- ページ遷移やブラウザ再起動で再翻訳が走りやすい
- 既訳の再利用・キャッシュの持続化が必要

### キャッシュ要件（確定）
- 期限: 3日
- 上限: 100件
- モデル/用語集変更時はキャッシュを残す
- 翻訳キャッシュのみ削除ボタンを追加

### 非Xサイト追加の導線が不明
- ポップアップでの手順が分かりづらい
- 追加～翻訳開始までの操作説明が必要

### Pickのクリック回数と複数登録
- 3回クリックになるため2回で確定したい
- 複数箇所の登録が必要

### 非Xサイトで翻訳が走らない
- 許可済みにしても翻訳が開始されない
- 翻訳エリア指定や許可反映の問題の可能性

### ポップアップの金額・文字数が更新されない
- リアルタイム集計が表示されない
- ストレージ更新の反映や描画要素の問題の可能性

### ポップアップで翻訳後の文字色が選べない
- 色チップを押しても選択状態にならない
- 反映の保存ロジックの不具合の可能性

### サイト設定の有効が保存されない
- オフにして閉じると再度オンに戻る
- レジストリ保存の呼び出し不具合の可能性
